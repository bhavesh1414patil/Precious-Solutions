const productList = [

	{
		id: 16,
		title: "FINGERS ButterClicks Wired Multimedia Keyboard (Compatible with Windows, macOS, Linux | 12 Quick Soft-Touch Media Controls | 104 Keys | 10 Million Life keystrokes)",
		price: 617,
		category: "Laptop",
		image: "https://m.media-amazon.com/images/I/61bEURWUFaL._SX679_.jpg",
		rating: {
			rate: 4,
			count: 112
		},
	},
	{
		id: 17,
		title: "Portronics Bubble Multimedia Wireless Keyboard 2.4 GHz & Bluetooth 5.0 Connectivity, Noiseless Experience, Compact Size for iOS iPad Air, Pro, Mini, Android, Windows Tablets PC Smartphone(Black)",
		price: 898,
		category: "Laptop",
		image: "https://m.media-amazon.com/images/I/81QdLppSePL._SL1500_.jpg",
		rating: {
			rate: 4,
			count: 112
		},
	},
	{
		id: 18,
		title: "Portronics Ki-Pad 2 USB Wired Keyboard with 104 Keys, Dual Color Chicklet Keys, Rupee Symbol (₹) Key, Noiseless Typing, 1.5 m Long Cable, 10 Million Keystrokes Long Life for PC, Laptop & USB-Supported Devices (Black)",
		price: 428,
		category: "Laptop",
		image: "https://m.media-amazon.com/images/I/61HawLgSiUL._SL1200_.jpg",
		rating: {
			rate: 5,
			count: 112
		},
	}, {
		id: 19,
		title: "HP KM 180 Wired Mouse and Keyboard Combo, USB Plug-and-Play, 1200 dpi, Full-Size Layout with Numeric pad, Up to 10 Million keystrokes, Up to 1 Million clicks, 1-Year Warranty, 0.52 kg, Black, 7J4G3AA",
		price: 706,
		category: "Laptop",
		image: "https://m.media-amazon.com/images/I/810HRWA2qtL._SL1500_.jpg",
		rating: {
			rate: 5,
			count: 112
		},
	}, {
		id: 20,
		title: "HP K100 Wired Keyboard, Quick, Comfy and Accurate, USB Plug & Play Setup,LED Indicators(7J4G1AA)",
		price: 615,
		category: "Laptop",
		image: "https://m.media-amazon.com/images/I/51cgkR9vfGL._SX679_.jpg",
		rating: {
			rate: 5,
			count: 112
		},
	}, {
		id: 21,
		title: "HP K260 Wireless Keyboard/Quick/Plug and Play/Led Indicators,Black",
		price: 799,
		category: "Laptop",
		image: "https://m.media-amazon.com/images/I/81pnFe9yC+L._SX679_.jpg",
		rating: {
			rate: 5,
			count: 112
		},
	}, {
		id: 23,
		title: "Dell KM3322W Wireless USB Keyboard and Mouse Combo, Anti-Fade & Spill-Resistant Keys, up to 36 Month Battery Life, 3Y Advance Exchange Warranty - Black",
		price: 1399,
		category: "Laptop",
		image: "https://m.media-amazon.com/images/I/711vfmr7pOL._SL1500_.jpg",
		rating: {
			rate: 5,
			count: 112
		},
	}, {
		id: 22,
		title: "HP K500F Backlit Membrane Wired Gaming Keyboard with Mixed Color Lighting, Metal Panel with Logo Lighting, 26 Anti-Ghosting Keys, and Windows Lock Key / 3 Years Warranty(7ZZ97AA)",
		price: 1199,
		category: "Laptop",
		image: "https://m.media-amazon.com/images/I/812mvWBAKDL._SL1500_.jpg",
		rating: {
			rate: 5,
			count: 112
		},
	}, {
		id: 23,
		title: "Zebronics K24 Wired USB Keyboard, 104 Keys, Long Life 8 Million Keystrokes, Silent & Comfortable Use, Slim Design, Retractable Stand, 1.5 Meter Textured Cable, UV Coated keycaps",
		price: 349,
		category: "Laptop",
		image: "https://m.media-amazon.com/images/I/71dmur4-+GL._SL1500_.jpg",
		rating: {
			rate: 5,
			count: 112
		},
	}, {
		id: 24,
		title: "ZEBRONICS K51 Wired Keyboard with 105 Keys, 1.3m Cable, ₹ Key, USB Interface, 12 Integrated Multimedia Keys, Slim Design, Plug and Play (Black)",
		price: 399,
		category: "Laptop",
		image: "https://m.media-amazon.com/images/I/710Voy4QTNL._SL1500_.jpg",
		rating: {
			rate: 5,
			count: 112
		},
	}, {
		id: 25,
		title: "ZEBRONICS K20, Wired Keyboard, 104 Keys, 1.2m Cable, ₹ Key, UV Coated Keys, USB Interface, Retractable Stand, Plug and Play",
		price: 299,
		category: "Laptop",
		image: "https://m.media-amazon.com/images/I/71F3Docai3L._SL1500_.jpg",
		rating: {
			rate: 5,
			count: 112
		},
	},
	{
		id: 2,
		title: "FINGERS FabClicks Multimedia USB Keyboard (104 Keys, Special Dual-Tone Soft Keys, 10 Million Life Cycles, Compatible with Windows, macOS & Linux)",
		price: 479,
		category: "Laptop",
		image: "https://www.fingers.co.in/assets/images/story/fab-clicks/box-image-last.png",
		rating: {
			rate: 5,
			count: 112
		},
	},
	{
		id: 15,
		title: "FINGERS Magnifico Duo Wired Backlit Deskset Combo - Keyboard & Mouse Set (Laser Etched Characters, Backlit Keys with 3 Magnificent Illuminating Colours, Illuminating backlights in Mouse), Jet Black",
		price: 820,
		category: "Laptop",
		image: "https://5.imimg.com/data5/SELLER/Default/2023/8/335579355/AF/DQ/YX/92757963/fingers-magnifico-moonlit-backlit-wired-usb-keyboard.jpeg",
		rating: {
			rate: 5,
			count: 112
		},
	},
	{
		id: 26,
		title: "Dell MS116 Wired Optical Mouse, 1000DPI, LED Tracking, Scrolling Wheel, Plug and Play",
		price: 309,
		category: "Mouse",
		image: "https://m.media-amazon.com/images/I/51TX7ib9pJL._SL1080_.jpg",
		rating: {
			rate: 3.5,
			count: 200
		},
	},

	{
		id: 27,
		title: "Dell MS3220 Wired Laser Mouse, up to 3200DPI, Lightweight, Ambidextrous with 2 Programmable Buttons - Titan Grey",
		price: 1049,
		category: "Mouse",
		image: "https://m.media-amazon.com/images/I/516WKEi7JWL._SL1080_.jpg",
		rating: {
			rate: 3.5,
			count: 200
		},
	}, {
		id: 28,
		title: "HP M080 Wired Mouse (AB3C5AA)",
		price: 299,
		category: "Mouse",
		image: "https://m.media-amazon.com/images/I/51vE4Pcpd9L._SY879_.jpg",
		rating: {
			rate: 3.5,
			count: 200
		},
	}, {
		id: 29,
		title: "ZEBRONICS Zeb-Jaguar Wireless Mouse, 2.4GHz with USB Nano Receiver, High Precision Optical Tracking, 4 Buttons, Plug & Play, Ambidextrous, for PC/Mac/Laptop (Black+Grey)",
		price: 299,
		category: "Mouse",
		image: "https://m.media-amazon.com/images/I/81Yxn8Cu2LL._SL1500_.jpg",
		rating: {
			rate: 3.5,
			count: 200
		},
	}, {
		id: 30,
		title: "Lenovo 120 Wired Plug & Play USB Mouse, High Resolution 1600 DPI Optical Sensor, 3-Button Design with clickable Scroll Wheel, Ambidextrous, Ergonomic Mouse for Comfortable All-Day Grip (GY51L52636)",
		price: 338,
		category: "Mouse",
		image: "https://m.media-amazon.com/images/I/71AnuNxQ9-L._SL1500_.jpg",
		rating: {
			rate: 3.5,
			count: 200
		},
	}, {
		id: 31,
		title: "HP 150 Wireless Mouse,1600 DPI, 10 m Range, 2.4 GHz USB dongle for Instant connectivity, Ambidextrous, Ergonomic Design, Rubber Grip for All Day Comfort, 12 Month Battery, 3 Years Warranty",
		price: 699,
		category: "Mouse",
		image: "https://m.media-amazon.com/images/I/612R7kThEgL._SX679_.jpg",
		rating: {
			rate: 3.5,
			count: 200
		},
	}, {
		id: 32,
		title: "Logitech M90 Wired USB Mouse, 3 yr Warranty, 1000 DPI Optical Tracking, Ambidextrous PC/Mac/Laptop - Black",
		price: 399,
		category: "Mouse",
		image: "https://m.media-amazon.com/images/I/71gRys9Z-sL._SL1500_.jpg",
		rating: {
			rate: 3.5,
			count: 200
		},
	},
	{
		id: 33,
		title: "GIGABYTE Micro ATX B760M G Ax DDR5 Wi-Fi6 Motherboard, 2 RAM Slots, Gen4 Supported, 4 Sata Ports, HDMI, Display Port, Vga",
		price: 12678,
		category: "PC Accessorys",
		image: "https://m.media-amazon.com/images/I/81JOB3BpoLL._SX679_.jpg",
		rating: {
			rate: 4.6,
			count: 150
		},
	},
	{
		id: 34,
		title: "FRONTECH H61 Chipset Motherboard with 2xDDR3 RAM Slots LGA1155 Supports i3/i5/i7/Pentium Processors | 6+4 USB Ports | 4xSATA Slots | NVME Slots, 1xPCIEX16, 1xHDMI, 1xVGA (FT-0470)",
		price: 1276,
		category: "PC Accessorys",
		image: "https://m.media-amazon.com/images/I/81SPP4Np6rL._SX679_.jpg",
		rating: {
			rate: 4.6,
			count: 150
		},
	},
	{
		id: 35,
		title: "Consistent H-510 Motherboard 10th, 11th, Gen DDR4 Slots for RAM, with GMA 950 Graphic Card, Motherboard with Sound Card, SATA 2&3, 3Y Warranty",
		price: 4899,
		category: "PC Accessorys",
		image: "https://m.media-amazon.com/images/I/71RIlg83wTL._SX679_.jpg",
		rating: {
			rate: 4.6,
			count: 150
		},
	},


	{
		id: 36,
		title: "boAt Rockerz 550 Bluetooth Wireless Over Ear Headphones with Upto 20 Hours Playback, 50MM Drivers, Soft Padded Ear Cushions and Physical Noise Isolation with Mic (Black Symphony)",
		price: 1699,
		category: "Headsets",
		image: "https://m.media-amazon.com/images/I/717CUtSkbEL._SX522_.jpg",
		rating: {
			rate: 4.6,
			count: 150
		},
	},
	{
		id: 37,
		title: "boAt New Launch Rockerz 650 Pro, Touch/Swipe Controls, Dolby Audio, 80Hrs Battery, 2Mics ENx, Fast Charge, App Support, Dual Pair, Bluetooth Headphones, Wireless Headphone with Mic (Iris Black)",
		price: 2799,
		category: "Headsets",
		image: "https://m.media-amazon.com/images/I/61rAG-MFiXL._SL1500_.jpg",
		rating: {
			rate: 4.6,
			count: 150
		},
	},
	{
		id: 38,
		title: "Boult Audio W20 Truly Wireless in Ear Earbuds with 40H Playtime, Zen™ ENC Mic, 45ms Low Latency, 13mm Bass Drivers, Type-C Fast Charging, Made in India,Touch Controls, IPX5 Ear Buds TWS (Pine Green)",
		price: 999,
		category: "Headsets",
		image: "https://m.media-amazon.com/images/I/81l8O2bCZeL._SL1500_.jpg",
		rating: {
			rate: 4.6,
			count: 150
		},
	},
	{
		id: 39,
		title: "Noise Buds N1 in-Ear True Wireless Earbuds with Chrome Finish, 40H of Playtime, Quad Mic with ENC, Ultra Low Latency (Up to 40 Ms), Instacharge (10 Min=120 Min), BT V5.3 (Ice Blue)",
		price: 1199,
		category: "Headsets",
		image: "https://m.media-amazon.com/images/I/71+R++r86bL._SX522_.jpg",
		rating: {
			rate: 4.6,
			count: 150
		},
	},
	{
		id: 40,
		title: "Noise Airwave Max 4 Wireless Over-Ear Headphones with 70H Playtime, ENC, 40mm Driver, Low Latency(up to 40ms), Dual Pairing, BT v5.4 (Calm Beige)",
		price: 2499,
		category: "Headsets",
		image: "https://m.media-amazon.com/images/I/61pz3kVU1CL._SX522_.jpg",
		rating: {
			rate: 4.6,
			count: 150
		},
	},
	{
		id: 41,
		title: "Noise Buds X Prime in Ear Truly Wireless Earbuds with 120H of Playtime, Quad Mic with ENC, Instacharge(10 Min=200 Min),Premium Dual Tone Finish, 11Mm Driver, BT V5.3(Silver Grey)",
		price: 1299,
		category: "Headsets",
		image: "https://m.media-amazon.com/images/I/81dDBKCQLgL._SX522_.jpg",
		rating: {
			rate: 4.6,
			count: 150
		},
	},
	{
		id: 42,
		title: "JGD PRODUCTS Male to Male VGA Cable 1.5 Meter, Support Monitor/PC/LCD/LED, Plasma, Projector, TFT",
		price: 109,
		category: "Cables",
		image: "https://m.media-amazon.com/images/I/51FessLslwL._SX679_.jpg",
		rating: {
			rate: 4.6,
			count: 150
		},
	},
	{
		id: 43,
		title: "iVoltaa Ethernet Cable CAT6A Cable Dual Shielded (SF/UTP), 100% Copper, Professional Series - 10 Gbps LAN Network/High Speed Internet Cable, 550MHZ - 1 feet (0.3 m)",
		price: 221,
		category: "Cables",
		image: "https://m.media-amazon.com/images/I/71FL6cA3ceL._SX522_.jpg",
		rating: {
			rate: 4.6,
			count: 150
		},
	},
	{
		id: 44,
		title: "SanDisk Cruzer Blade 64GB, USB 2.0, Flash drive, Pendrive, Red, 5Y Warranty (SDCZ50-064G-I35)",
		price: 409,
		category: "Pendrive",
		image: "https://m.media-amazon.com/images/I/61ERDR3tATL._SX679_.jpg",
		rating: {
			rate: 4.6,
			count: 150
		},
	},

	{
		id: 45,
		title: "SanDisk Ultra Flair 64GB, USB 3.0, Flash Drive, Upto 150MB/s R, Pendrive, Metal, 5Y Warranty (SDCZ73-064G-I35)",
		price: 509,
		category: "Pendrive",
		image: "https://m.media-amazon.com/images/I/51uBDIyAZlL._SX679_.jpg",
		rating: {
			rate: 4.6,
			count: 150
		},
	},
	{
		id: 46,
		title: "Kingston Exodia M 64B USB Flash Drive, 64 GB, Pack of 1",
		price: 485,
		category: "Pendrive",
		image: "https://m.media-amazon.com/images/I/71TbHvU4TpL._SX522_.jpg",
		rating: {
			rate: 4.6,
			count: 150
		},
	},
	{
		id: 47,
		title: "Kingston DataTraveler Kyson USB 3.2 Flash Drive 128 GB - Gen 1 with Stylish Capless Metal Case (DTKN/128GB)",
		price: 1259,
		category: "Pendrive",
		image: "https://m.media-amazon.com/images/I/71bCDg0++3L._SL1500_.jpg",
		rating: {
			rate: 4.6,
			count: 150
		},
	},


	{
		id: 9,
		title: "McAfee Antivirus 2025 | 1 Device, 3 Year | Antivirus Internet Security Software | Email Delivery",
		price: 599,
		category: "Services",
		image: "https://rukminim2.flixcart.com/image/612/612/xif0q/digital-security-softwr/x/0/m/-original-imagt75nkhg3gcmm.jpeg?q=70",
		rating: {
			rate: 4.6,
			count: 150
		},
	},
	{
		id: 11,
		title: "CHIST Gaming Desktop, 9th Gen Core i5-9400 6 Core 6Threats, 32GB RAM, 1TB NVMe SSD, RX 580 8GB GDDR5, 24 IPS Brazel Monitor Keyboard Mouse,Wi-Fi, Windows 11 Pro",
		price: 47500,
		category: "Services",
		image: "https://m.media-amazon.com/images/I/81Es-IRjS6L._SL1500_.jpg",
		rating: {
			rate: 4.6,
			count: 150
		},
	},
	{
		id: 12,
		title: "PC Cleaning Service – Deep Clean for Peak Performance | Internal & External Dust Removal | Thermal Paste Replacement | Fan & Ventilation Cleaning | Boost Speed & Cooling Efficiency | Pick & Drop Available",
		price: 599,
		category: "Services",
		image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4Uy6BL8XQJjx9T-p3k4vxrgONUGIKnahVwA&s",
		rating: {
			rate: 4.6,
			count: 150
		},
	},
	{
		id: 13,
		title: "Hardware Repair Service – Expert Fix for Motherboard, RAM, SSD, GPU, PSU, Ports & More | Genuine Parts | Skilled Technicians | Fast Diagnosis & Repair | PC, Laptop & Gaming Rig Support | Pick & Drop Available",
		price: 599,
		category: "Services",
		image: "https://media.istockphoto.com/id/625135580/photo/laptop-disassembling-with-screwdriver-at-repair.jpg?s=612x612&w=0&k=20&c=Em-dB6fevNhRd5yaIxcgjDfFxuTVT4OSm_ys_Ybke6c=",
		rating: {
			rate: 4.6,
			count: 150
		},
	},
	{
		id: 17,
		title: "Dummy",
		price: 898,
		category: "Laptop",
		image: "https://m.media-amazon.com/images/I/81QdLppSePL._SL1500_.jpg",
		rating: {
			rate: 4,
			count: 112
		},
	},
];


const itemsContainer = document.querySelector('.items');
const search = document.getElementById('search');
const allBtn = document.getElementById('all');
const menBtn = document.getElementById('men');
const womenBtn = document.getElementById('women');
const HeadsetsBtn = document.getElementById('Headsets');
const CablesBtn = document.getElementById('Cables');
const PendriveBtn = document.getElementById('Pendrive');
const jewelleryBtn = document.getElementById('jewellery');
const electronicsBtn = document.getElementById('electronics');
const range = document.getElementById('range');

let itemArr = productList;
localStorage.setItem('itemArr', JSON.stringify(itemArr));
showItems(itemArr);

function showItems(Arr) {
	itemsContainer.innerHTML = '';
	Arr.forEach(ele => {
		itemsContainer.innerHTML += `
        <div class="item">
          <img src="${ele.image}" alt="${ele.title}" />
          <div class="info">
            <div style="margin-bottom: 5px; font-weight:600">${ele.title}</div>
            <div style="font-weight:bold" class="row">
              <div class="price">Rs.${ele.price}</div>
            </div>
            <div style='margin-top:10px;' class="row">Rating: ${Math.floor(ele.rating.rate)}</div>
          </div>
         <button id="addBtn" style="background-color: black;" onmouseover="this.style.backgroundColor='rgb(117, 115, 115)'" onmouseout="this.style.backgroundColor='black'" onClick='addToCart(${ele.id})'> Add to Cart
        </button>
  
        </div>
      `;
	});
}

function addToCart(id) {

	let item = itemArr.find(ele => ele.id === id);
	let cartArr = JSON.parse(localStorage.getItem('cartArr')) || [];

	cartArr.push(item);
	localStorage.setItem('cartArr', JSON.stringify(cartArr));
	console.log("Cart Updated:", JSON.parse(localStorage.getItem('cartArr')));
	var button = event.target;
}

search.addEventListener('input', () => {
	let filteredArr = itemArr.filter(ele => ele.title.toLowerCase().includes(search.value.trim().toLowerCase()));
	if (filteredArr.length === 0) {
		itemsContainer.innerHTML = `<p>Oops, No products found for this filtering, try different combinations!</p>`;
		return;
	}
	showItems(filteredArr);
});
allBtn.addEventListener('click', () => {
	myArr = JSON.parse(localStorage.getItem('itemArr'));
	showItems(myArr);
})

allBtn.style.backgroundColor = 'white';


menBtn.addEventListener('click', () => {
	myArr = itemArr.filter(ele => {
		if (ele.category == "Laptop") {
			return ele;
		}
	})

	showItems(myArr);
})
womenBtn.addEventListener('click', () => {
	myArr = itemArr.filter(ele => {
		if (ele.category == "PC Accessorys") {
			return ele;
		}
	})

	showItems(myArr);
})

jewelleryBtn.addEventListener('click', () => {
	myArr = itemArr.filter(ele => {
		if (ele.category == "Mouse") {
			return ele;
		}
	})

	showItems(myArr);
})

electronicsBtn.addEventListener('click', () => {
	myArr = itemArr.filter(ele => {
		if (ele.category == "Services") {
			return ele;
		}
	})
	showItems(myArr);
})

HeadsetsBtn.addEventListener('click', () => {
	myArr = itemArr.filter(ele => {
		if (ele.category == "Headsets") {
			return ele;
		}
	})

	showItems(myArr);
})
CablesBtn.addEventListener('click', () => {
	myArr = itemArr.filter(ele => {
		if (ele.category == "Cables") {
			return ele;
		}
	})

	showItems(myArr);
})
PendriveBtn.addEventListener('click', () => {
	myArr = itemArr.filter(ele => {
		if (ele.category == "Pendrive") {
			return ele;
		}
	})

	showItems(myArr);
})


range.addEventListener('input', () => {
	console.log(range.value);
	if (range.value == 0) {
		showItems(itemArr);
		return;
	}
	myArr = itemArr.filter(ele => {
		if (Math.floor(ele.rating.rate) == range.value) {
			return ele;
		}
	})
	if (myArr.length == 0) {
		itemsContainer.innerHTML = `
      <p>Oops,No products found for this filtering, try different combinations!</P>
      `
		return;
	}
	showItems(myArr);
})

document.querySelectorAll('input[type="checkbox"]').forEach(c => {
	c.addEventListener('change', filterProducts);
});


function filterProducts() {
	const checkboxes = Array.from(document.querySelectorAll('input[name="prange"]'));
	const checkedRanges = checkboxes.filter(c => c.checked).map(c => c.value);

	if (checkedRanges.length === 0) {
		showItems(itemArr);
		return;
	}


	const filteredProducts = itemArr.filter(p => {
		const price = p.price;
		for (const range of checkedRanges) {
			if (range === '100+' && price >= 100) {
				return true;
			}
			const [min, max] = range.split('-').map(parseFloat);
			if (price >= min && price <= max) {
				return true;
			}
		}
		return false;
	});


	myArr = itemArr.filter(p => {
		if (filteredProducts.includes(p)) {
			return p;
		}
	})
	showItems(myArr);
}

function totalPriceFunc() {
	let cartArr = JSON.parse(localStorage.getItem('cartArr')) || [];
	return cartArr.reduce((acc, item) => acc + item.price, 0);
}

document.getElementById("rzp-button1").onclick = function(e) {
	var options = {
		key: "rzp_test_PV1oQ0oMtgXOsq",
		amount: totalPriceFunc() * 100,
		currency: "INR",
		name: "MeShop Checkout",
		description: "This is your order",
		theme: {
			color: "#000"
		},
		image: "https://www.example.com/logo.png",
	};
	var rzp1 = new Razorpay(options);
	rzp1.open();
	e.preventDefault();
};
